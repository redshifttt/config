#!/usr/bin/python

import os

devices = []

for dev in os.listdir("/dev"):
    if len(dev) >= 4 and dev.startswith("sd"):
        devices.append(dev)

mounted_devices = []

with open("/proc/mounts") as mounts:
    for line in mounts:
        device, mountpoint, fstype, *_ = line.split()
        if not device.startswith("/dev"):
            continue
        mounted_devices.append({"device": device, "mountpoint": mountpoint, "fstype": fstype})
